<rx-modal-form rx-form title="Submit Feedback" subtitle="for page: {{ currentUrl }}" submit-text="Send Feedback" class="rx-feedback-form">
  <rx-form-section>
    <rx-field>
      <rx-field-name>Report Type:</rx-field-name>
      <rx-field-content>
        <rx-input>
          <select rx-select
              id="selFeedbackType"
              ng-model="fields.type"
              ng-options="opt as opt.label for opt in feedbackTypes"
              ng-init="fields.type = feedbackTypes[0]"
              required="true"></select>
        </rx-input>
      </rx-field-content>
    </rx-field>
  </rx-form-section>

  <rx-form-section ng-show="fields.type" ng-if="!showRedirectMessage">
    <rx-field>
      <rx-field-name class="feedback-description">{{fields.type.prompt}}:</rx-field-name>
      <rx-field-content>
        <rx-input>
          <textarea rows="8"
            placeholder="{{fields.type.placeholder}}"
            required="true"
            ng-model="fields.description"
            class="feedback-textarea"></textarea>
        </rx-input>
      </rx-field-content>
    </rx-field>
  </rx-form-section>
  <div ng-if="showRedirectMessage">
    <div class="well centered">
        <h2 class="title subdued">We want to hear your voice!</h2>
        *You will now be redirected to a new window.*<br />
        <a href="{{ route }}" target="_blank">{{ route }}</a>
        <button class="title button cancel xs" ng-if="loadingUserVoice" ng-click="cancelOpen()">Cancel Redirect</button>
    </div>
  </div>
</rx-modal-form>
